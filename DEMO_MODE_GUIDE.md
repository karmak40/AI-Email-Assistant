# DEMO режим - Краткое руководство

## Что добавлено?

Функциональность **"Попробовать демо"** в HomeScreen позволяет пользователям протестировать AI без регистрации.

## Как использовать?

### На главном экране
```
┌─────────────────────────────────┐
│   AI Email Assistant            │
├─────────────────────────────────┤
│                                 │
│  [Попробовать демо] ← нажать    │
│  [Подключить Gmail]             │
│                                 │
└─────────────────────────────────┘
```

### В модальном окне "Попробуйте AI прямо сейчас"

```
┌──────────────────────────────────────────┐
│ Попробуйте AI прямо сейчас          [✕] │
├──────────────────────────────────────────┤
│                                          │
│ Введите текст письма:                   │
│ ┌──────────────────────────────────────┐ │
│ │ Привет, как дела? Я хотел бы         │ │
│ │ обсудить проект с вами....           │ │
│ └──────────────────────────────────────┘ │
│                                          │
│ ┌──────────────────────────────────────┐ │
│ │ ✓ Исправить ошибки                  │ │
│ ├──────────────────────────────────────┤ │
│ │ 🎩 Официально                       │ │
│ ├──────────────────────────────────────┤ │
│ │ 😊 Дружелюбно                       │ │
│ └──────────────────────────────────────┘ │
│                                          │
│                   [Закрыть]              │
└──────────────────────────────────────────┘
```

## Примеры работы

### Пример 1: Исправление ошибок

**Ввод:**
```
Привет, как дела? Я хотел бы обсудить проект с вами.
```

**Результат:**
```
Здравствуйте! Я хотел бы обсудить детали проекта с вами. (исправлено грамматикой).
```

---

### Пример 2: Официальный тон (🎩)

**Ввод:**
```
Привет! Как у тебя дела? Хочешь встретиться?
```

**Результат:**
```
Уважаемый адресат,

Хотел бы обратить Ваше внимание на следующее: Привет! Как у тебя дела? Хочешь встретиться?

С уважением.
```

---

### Пример 3: Дружелюбный тон (😊)

**Ввод:**
```
Уважаемый коллега, прошу рассмотреть предложение.
```

**Результат:**
```
Привет! 😊

Я хотел бы рассказать тебе о следующем: Уважаемый коллега, прошу рассмотреть предложение.

Спасибо за внимание! 👋
```

---

## Как это работает?

### Без API ключа (Mock режим)
```
┌──────────────────┐
│  Пользователь   │
└────────┬─────────┘
         │ вводит текст
         ▼
┌──────────────────────────┐
│   DemoModal компонент    │
└────────┬─────────────────┘
         │ нажимает кнопку
         ▼
┌──────────────────────────┐
│   deepseekService        │
│   (mock режим)           │
└────────┬─────────────────┘
         │ возвращает ответ
         ▼
┌──────────────────┐
│  Результат      │
│  отображается   │
└──────────────────┘
```

### С настроенным API ключом

```
┌──────────────────┐
│  Пользователь   │
└────────┬─────────┘
         │ вводит текст
         ▼
┌──────────────────────────┐
│   DemoModal компонент    │
│   (показывает Loading)   │
└────────┬─────────────────┘
         │ нажимает кнопку
         ▼
┌──────────────────────────┐
│   deepseekService        │
│   (реальный API)         │
└────────┬─────────────────┘
         │ HTTP запрос
         ▼
┌──────────────────────────┐
│   https://api.deepseek   │
│   .com/v1/chat/...       │
└────────┬─────────────────┘
         │ возвращает ответ
         ▼
┌──────────────────┐
│  Результат      │
│  отображается   │
└──────────────────┘
```

## Файлы, которые были добавлены/изменены

### ✅ Создано

1. **`src/services/deepseekService.ts`** - сервис для работы с DeepSeek API
   - `polishText()` - исправление ошибок
   - `changeTone()` - смена тона
   - Mock режим для демонстрации

2. **`DEEPSEEK_SETUP.md`** - подробная документация по настройке

### 🔄 Изменено

1. **`src/components/DemoModal.tsx`** - полностью переписан компонент
   - Добавлено TextInput для ввода текста
   - Добавлены три кнопки действий
   - Добавлен просмотр результатов
   - Добавлена поддержка Loading состояния

2. **`src/screens/HomeScreen.tsx`** - уже содержал интеграцию DemoModal
   - Компонент готов к использованию

## Стиль и темы

Все компоненты поддерживают темы (светлая/темная):
- Используют `useTheme()` хук
- Автоматически адаптируются под текущую тему
- Работают как на iOS, так и на Android

## Обработка ошибок

При возникновении ошибок:
- ✅ Пользователю показывается Alert
- ✅ Ошибка логируется в консоль
- ✅ Loading индикатор скрывается
- ✅ Пользователь может попробовать снова

## Производительность

- **Mock режим**: ~800ms задержка (имитация)
- **Реальный API**: ~2-5s (зависит от сети и размера текста)
- **UI не блокируется**: все асинхронные операции выполняются без заморозки интерфейса

## Что дальше?

1. **Настроить API ключ DeepSeek** (см. `DEEPSEEK_SETUP.md`)
2. **Протестировать в Expo Go**:
   ```bash
   npm start
   # Отсканировать QR код
   ```
3. **Протестировать на реальном устройстве**
4. **Подключить Gmail интеграцию** (следующий этап)

---

**Готово! 🚀 Функциональность "Попробовать демо" полностью реализована и готова к использованию.**
