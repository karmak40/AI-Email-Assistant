# ๐ง Gmail Integration - ะะะขะะะ โ

## ๐ฆ ะงัะพ ะดะพะฑะฐะฒะปะตะฝะพ

### ะคะฐะนะปั (4 ะพัะฝะพะฒะฝัั + 2 ะฒัะฟะพะผะพะณะฐัะตะปัะฝัั)

```
โ src/services/gmailService.ts         - OAuth & Gmail API ัะตัะฒะธั
โ src/screens/GmailAuthScreen.tsx      - UI ัะบัะฐะฝ ะฐะฒัะพัะธะทะฐัะธะธ
โ src/navigation/RootNavigator.tsx     - ะะฑะฝะพะฒะปะตะฝะฐ ะฝะฐะฒะธะณะฐัะธั
โ src/types/index.ts                   - ะะฑะฝะพะฒะปะตะฝั ัะธะฟั
โ GMAIL_INTEGRATION_GUIDE.md            - ะัะบะพะฒะพะดััะฒะพ
โ GMAIL_SUPABASE_SETUP.md              - ะะฝััััะบัะธั Supabase
```

## ๐ 3 ะฟัะพัััั ัะฐะณะฐ ะดะปั ะธัะฟะพะปัะทะพะฒะฐะฝะธั

### ะจะฐะณ 1๏ธโฃ: ะะฐัััะพะธัั Supabase

ะัะบัะพะนัะต [Supabase SQL Editor](https://supabase.com) ะธ ะฒัะฟะพะปะฝะธัะต SQL ะธะท **GMAIL_SUPABASE_SETUP.md**

### ะจะฐะณ 2๏ธโฃ: ะะพะปััะธัั Google Client ID

1. https://console.cloud.google.com
2. ะกะพะทะดะฐัั ะฟัะพะตะบั โ ะะบะปััะธัั **Gmail API**
3. ะกะพะทะดะฐัั **OAuth 2.0 Client ID** (Web app)
4. ะะพะฑะฐะฒะธัั Redirect URI: `com.aiemailassistant:/oauth2redirect`
5. ะกะบะพะฟะธัะพะฒะฐัั **Client ID**

### ะจะฐะณ 3๏ธโฃ: ะะพะฑะฐะฒะธัั ะฒ .env

```env
EXPO_PUBLIC_GMAIL_CLIENT_ID=your_client_id.apps.googleusercontent.com
```

## โจ ะะฐะบ ััะพ ัะฐะฑะพัะฐะตั

```
ะะปะฐะฒะฝัะน ัะบัะฐะฝ
    โ
[ะะพะดะบะปััะธัั Gmail] โ ะะฝะพะฟะบะฐ
    โ
GmailAuthScreen
    โ
[ะะพะนัะธ ัะตัะตะท Google] โ ะะฝะพะฟะบะฐ
    โ
WebView ั Google ะฐะฒัะพัะธะทะฐัะธะตะน
    โ
ะะฑะผะตะฝ ะบะพะดะฐ ะฝะฐ ัะพะบะตะฝั
    โ
ะกะพััะฐะฝะตะฝะธะต ะฒ Supabase
    โ
โ Gmail ััะฟะตัะฝะพ ะฟะพะดะบะปััะตะฝ!
```

## ๐ฑ GmailAuthScreen

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ โ ะะฐะทะฐะด                        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                โ
โ         ๐ง (ะฑะพะปััะพะน)           โ
โ   ะะพะดะบะปััะธัะต Gmail             โ
โ                                โ
โ ะัะธะปะพะถะตะฝะธั ะฝัะถะตะฝ ะดะพัััะฟ ะบ...  โ
โ                                โ
โ ๐ ะะตะทะพะฟะฐัะฝะพััั              โ
โ โก ะััััะพ                     โ
โ ๐ฏ ะฃะผะฝะพ                       โ
โ                                โ
โ ะขัะตะฑัะตะผัะต ัะฐะทัะตัะตะฝะธั:         โ
โ โข ะงัะตะฝะธะต ะฟะธัะตะผ                โ
โ โข ะกะพะทะดะฐะฝะธะต ะฟะธัะตะผ              โ
โ โข ะงัะตะฝะธะต ะฟัะพัะธะปั              โ
โ                                โ
โ [G ะะพะนัะธ ัะตัะตะท Google]         โ
โ                                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐ GmailService API

```typescript
// ะัะฝะพะฒะฝัะต ะผะตัะพะดั
authenticate()                          // OAuth ะฟะพัะพะบ
saveTokens(userId, access, refresh)     // ะกะพััะฐะฝะธัั ัะพะบะตะฝั
getProfile(accessToken)                 // ะะพะปััะธัั ะฟัะพัะธะปั
listMessages(accessToken, limit)        // ะะพะปััะธัั ะฟะธััะผะฐ
getSavedToken(userId)                   // ะะพะปััะธัั ัะพะบะตะฝ
isGmailConnected(userId)                // ะัะพะฒะตัะธัั ััะฐััั
disconnectGmail(userId)                 // ะัะบะปััะธัั
```

## ๐ ะงัะพ ััะฐะฝะธััั ะฒ Supabase

### ะขะฐะฑะปะธัะฐ `users` (ะพะฑะฝะพะฒะปะตะฝะฐ)
```
gmail_email: VARCHAR          // Email Gmail
gmail_connected: BOOLEAN      // ะกัะฐััั ะฟะพะดะบะปััะตะฝะธั
gmail_connected_at: TIMESTAMP // ะะพะณะดะฐ ะฟะพะดะบะปััะตะฝ
```

### ะขะฐะฑะปะธัะฐ `user_tokens` (ะฝะพะฒะฐั)
```
user_id: UUID                 // ID ะฟะพะปัะทะพะฒะฐัะตะปั
provider: VARCHAR ('gmail')   // ะัะพะฒะฐะนะดะตั
access_token: TEXT            // ะขะพะบะตะฝ ะดะพัััะฟะฐ
refresh_token: TEXT           // ะขะพะบะตะฝ ะพะฑะฝะพะฒะปะตะฝะธั
```

## โ ะัะพะฒะตัะบะฐ ัะฐะฑะพัั

- [ ] ะกัะฟะตัะฑะฐ ัะฐะฑะปะธัั ัะพะทะดะฐะฝั (ะฒัะฟะพะปะฝะธัั SQL)
- [ ] Client ID ะดะพะฑะฐะฒะปะตะฝ ะฒ .env
- [ ] `npm start` - ะฟัะธะปะพะถะตะฝะธะต ะทะฐะฟััะบะฐะตััั
- [ ] "ะะพะดะบะปััะธัั Gmail" ะฒะธะดะฝะฐ ะฝะฐ ะณะปะฐะฒะฝะพะผ ัะบัะฐะฝะต
- [ ] ะะฐะถะฐัั ะบะฝะพะฟะบั โ ะพัะบัััั GmailAuthScreen
- [ ] ะะฐะถะฐัั "ะะพะนัะธ ัะตัะตะท Google" โ WebView ะฐะฒัะพัะธะทะฐัะธั
- [ ] ะะพัะปะต ะฐะฒัะพัะธะทะฐัะธะธ โ โ "Gmail ััะฟะตัะฝะพ ะฟะพะดะบะปััะตะฝ!"
- [ ] ะะตัะฝััััั ะฝะฐ ะณะปะฐะฒะฝัะน ัะบัะฐะฝ

## ๐ ะะตะทะพะฟะฐัะฝะพััั

- โ OAuth 2.0 (ััะฐะฝะดะฐัั)
- โ ะขะพะบะตะฝั ะฒ Supabase (ะทะฐัะธัะตะฝั RLS)
- โ WebBrowser ะดะปั ะฐะฒัะพัะธะทะฐัะธะธ
- โ ะะฐะทัะตัะตะฝะธะต ัะพะปัะบะพ `gmail.modify`
- โ ะะฐัะพะปั ะฝะธะบะพะณะดะฐ ะฝะต ะฟะตัะตะดะฐะตััั

## ๐ ะะพะบัะผะตะฝัะฐัะธั

ะะพะปะตะต ะฟะพะดัะพะฑะฝะพ ัะธัะฐะนัะต:

1. **GMAIL_SUPABASE_SETUP.md** - ะะฐัััะพะนะบะฐ Supabase ะธ Google OAuth
2. **GMAIL_INTEGRATION_GUIDE.md** - ะะพะปะฝะพะต ััะบะพะฒะพะดััะฒะพ (2000+ ัะปะพะฒ)
3. **GMAIL_EXAMPLES.tsx** - ะัะธะผะตัั ะบะพะดะฐ
4. **GMAIL_INTEGRATION_COMPLETE.md** - ะขะตัะฝะธัะตัะบะพะต ัะตะทัะผะต

## ๐ ะะพัะพะฒะพ!

ะัะต ะณะพัะพะฒะพ ะบ ะธัะฟะพะปัะทะพะฒะฐะฝะธั. ะะพัะปะต ะฒัะฟะพะปะฝะตะฝะธั 3 ัะฐะณะพะฒ ะฒััะต:

โ ะะพะปัะทะพะฒะฐัะตะปะธ ะผะพะณัั ะฟะพะดะบะปััะฐัั Gmail  
โ ะขะพะบะตะฝั ะฑะตะทะพะฟะฐัะฝะพ ััะฐะฝัััั  
โ API ะดะปั ะฟะพะปััะตะฝะธั ะฟะธัะตะผ  
โ ะะพัะพะฒะพ ะบ ะดะฐะปัะฝะตะนัะตะผั ัะฐะทะฒะธัะธั  

**ะะฐัะฐ**: 19 ัะตะฒัะฐะปั 2026  
**ะะตััะธั**: 1.0.0  
**ะกัะฐััั**: โ ะะะขะะะ
